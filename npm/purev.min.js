!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.purev=t():e.purev=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var u=t[r]={i:r,l:!1,exports:{}};return e[r].call(u.exports,u,u.exports,n),u.l=!0,u.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var u in e)n.d(r,u,function(t){return e[t]}.bind(null,u));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t),n.d(t,"PureV",(function(){return w}));var r="object"==typeof document&&void 0!==document.body;function u(e){throw new Error(e)}function a(e,t){return-1!==e.indexOf(t)}function o(e,t,n){if("object"==typeof e)for(var r in e)n(r,e[r]);else n(e,t)}var i="EN",s=function(){return i},l=function(e){return i=e},f={null:/^\S{0}$/,date:/^(([12]\d{3}-((0[1-9])|(1[0-2]))-((0[1-9])|([1-2]\d)|3(0|1))))$/,email:/^((\w*@\w*\.[A-Za-z.]+(\.)?[A-Za-z]+))$/,decimal:/^-?[1-9]\d*.\d*|0.\d*[1-9]\d*$/,idcard:/^(\d{17}(X|\d))$/,url:/^((https|http|ftp|rtsp|mms)?:\/\/)[^\s]+$/,phone:/^([1]\d{10})$/},c={CN:{null:"可以为空",notnull:"必填",date:"格式为XXXX-XX-XX",email:"格式为XXX@XX.XX",number:"须为纯数字",idcard:"17位数字加一位数字或X",length:"输入长度为",url:"请输入正确的网址",decimal:"请正确的小数",lengthOfAny:"输入长度为",phone:"须为11位纯数字",letterStart:"字母开头且长度为",range:"数字不在范围内",express:"自定义错误"},EN:{null:"can be empty",notnull:"required",date:"The format is XXXX-XX-XX",email:"The format is XXX@XX.XX",number:"must be a pure number",idcard:"17 digits plus one digit or X",length:"Enter the length is",url:"Please enter the correct URL",decimal:"Please correct the decimal",lengthOfAny:"Input length is",phone:"It must be 11 digits",letterStart:"The beginning of the letter and the length is ",range:"The number is not in range",express:"Custom Error"}};function p(e,t){var n=e.substring(t,e.length-1).split(",").map((function(e){return parseInt(e)}));return{start:n[0],end:n[1]||n[0]}}function d(e,t,n){var r={pass:!0,message:"",text:e},a="";if(-1!==t.indexOf("lengthOfAny")){var o=p(t,12);a=e.length>=o.start&&e.length<=o.end||b("lengthOfAny",o)}else a=function(e,t){if(-1!==e.indexOf("notnull")){if(0===t.length)return v("notnull")}else if(-1!==e.indexOf("null")){var n=e.split(" "),r="null"===n[0]?n[1]:n[0];if(""!==r&&void 0!==r||u("null 关键字不能单独使用"),-1!==r.indexOf("range"))if(!0!==(a=m(e,t))&&""!==t)return a;if(!g(t,h(r))&&""!==t)return v(r)}else{var a;if(-1!==e.indexOf("range")){if(!0!==(a=m(e,t)))return a}else if(!g(t,h(e)))return v(e)}return!0}(t,e);return!0===a?T.onOnePass&&T.onOnePass(r,n):(r.pass=!1,r.message=a,T.onOneFail&&T.onOneFail(r,n)),r}function m(e,t){var n=p(e,6);if(!g(t,h(e="number")))return b("number");var r=parseInt(t);return!(r<n.start||r>n.end)||b("range",n)}function g(e,t){return"function"==typeof t?t(e):t.test(e)}function v(e){var t=0;if(-1!==e.indexOf("range")?t=6:-1!==e.indexOf("letterStart")?t=12:(-1!==e.indexOf("length")||a(e,"number")&&"number"!==e)&&(t=7),0!==t){var n=p(e,t);return b(e.substring(0,t-1),n)}return b(e)}function b(e,t){var n=s();if(t){var r=a(e,"number")?"CN"===n?" 且长度为":" and length is":"";return t.start===t.end?""+c[n][e]+r+t.start:""+c[n][e]+r+"["+t.start+","+t.end+"]"}return a(e,"express")?c[n].express:c[n][e]}function h(e){var t=-1,n=-1,r="",u=function(r){var u=e.substring(r,e.length-1).split(",");void 0===u[1]&&(u[1]=u[0]),t=parseInt(u[0]),n=parseInt(u[1])};if(-1!==e.indexOf("length")?(u(7),e="length"):-1!==e.indexOf("letterStart")?(u(12),e="letterStart"):a(e,"number")&&"number"!==e?(u(7),e="number"):a(e,"express")&&(r=e.substring(8,e.length-1),e="express"),e in f)return f[e];switch(e){case"number":return t>=0?new RegExp("^-?(\\d{"+t+","+n+"})$"):/^-?(\d+)$/;case"letterStart":return t>=0?new RegExp("^([a-zA-Z]([a-zA-Z\\d]){"+(t-1)+","+(n-1)+"})$"):/^-?([a-zA-Z][a-zA-Z\d]+)$/;case"length":return new RegExp("^(([a-zA-Z\\d]){"+t+","+n+"})$");case"express":return new RegExp(r);default:return new RegExp("")}}var x,X,y="value",O="text",A="html",S="src",E="href";function j(e){var t=e instanceof HTMLElement?e:document.querySelector("[pv-form="+e+"]")||document.querySelector(e),n={pass:!0,message:"",results:{}};if(null===t)return n.pass=!1,n;for(var r=t.hasAttribute("pv-rule")?[t]:t.querySelectorAll("[pv-rule]"),u=function(e){var t=r[e],u=t.getAttribute("pv-rule")||"",a=t.getAttribute("pv-name")||e.toString(),o=d(function(e){switch(e.getAttribute("pv-attr")||"value"){case y:return e.value;case O:return e.innerText;case A:return e.innerHTML;case S:return e.getAttribute("src");case E:return e.getAttribute("href")}return""}(t)||"",u,t);o.dom=t,o.name=a,n.results[a]=o,o.pass||(!0!==t._hasAttach&&t.addEventListener("click",(function(){t.setAttribute("pv-res","none"),t._pv_np&&t.removeAttribute("placeholder")}),!1),t.setAttribute("pv-res","fail"),null===t.getAttribute("placeholder")&&(t._pv_np=!0,t.setAttribute("placeholder",o.message)),n.pass&&(n.pass=!1,T.useToast&&T.toast&&T.toast(o.message)))},a=0;a<r.length;a++)u(a);return n}r&&(x="[pv-res=fail]{color:#fa4545!important}[pv-res=fail]::-webkit-input-placeholder{color:#fa4545!important}[pv-res=fail]::-moz-placeholder{color:#fa4545!important}[pv-res=fail]:-moz-placeholder{color:#fa4545!important}[pv-res=fail]:-ms-input-placeholder{color:#fa4545!important}",(X=document.createElement("style")).innerHTML=x,document.head.appendChild(X));var w=function(e,t){return"object"==typeof e&&"object"==typeof t?function(e,t){var n={pass:!0,message:"",results:{}};for(var r in e){var u=void 0;r in t?(u=d(e[r],t[r])).name=r:u={pass:!1,name:r,text:e[r],message:"属性 "+r+" 不在验证规则中"},u.pass||(n.pass=!1),n.results[r]=u}return n}(e,t):void 0!==t?d(e,t):r?j(e):void 0};w.useToast=!1,w.toast=function(e){r?alert&&alert(e):console&&console.log(e)},w.tip=function(e,t){o(e,t,(function(e,t){c[s()][e]=t}))},w.reg=function(e,t){o(e,t,(function(e,t){f[e]=t}))},w.lang=function(e){"CN"!==e&&"EN"!==e&&u("Language can only be set to CN or EN"),l(e)};var T=t.default=w}]).default}));